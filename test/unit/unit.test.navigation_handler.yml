---
configuration: 
  locale: en-US
  dynamo: mock

--- 
- test: NavigateResetIntent 
- NavigateResetIntent:
  - request.session.attributes:
      MELVIN.STATE:
        gene_name: "TP53"
  - response.card.title: "Welcome to Melvin test"
  - response.outputSpeech.ssml: "Welcome to Melvin test version."

---
- test: NavigateGoBackIntent 1
- NavigateGoBackIntent:
  - request.session.attributes:
      MELVIN.STATE:
        gene_name: "TP53"
      MELVIN.HISTORY: 
      - melvin_state: 
          gene_name: "TP53"
          data_source: "TCGA"
          study_abbreviation: "BRCA"
          data_type: "MUTATIONS"
        intent: "NavigateMutationsIntent"
        event_type: "analysis_event"
  - response.outputSpeech.ssml: "You have reached the end of analysis series. Please provide a new query."

---
- test: NavigateGoBackIntent 2
- NavigateGoBackIntent:
  - request.session.attributes:
      MELVIN.STATE:
        gene_name: "TP53"
      MELVIN.HISTORY:
      - melvin_state:
          gene_name: TP53
          data_source: TCGA
          study_abbreviation: BRCA
          data_type: MUTATIONS
        intent: NavigateMutationsIntent
        event_type: analysis_event
      - melvin_state:
          gene_name: TP53
          data_source: TCGA
          study_abbreviation: BRCA
          data_type: MUTATIONS
        intent: NavigateGoBackIntent
        event_type: navigation_revert_event
      - melvin_state:
          gene_name: TP53
          data_source: TCGA
          study_abbreviation: LIHC
          data_type: MUTATIONS
        intent: NavigateMutationsIntent
        event_type: analysis_event
      - melvin_state:
          gene_name: TP53
          data_source: TCGA
          study_abbreviation: OV
          data_type: MUTATIONS
        intent: NavigateMutationsIntent
        event_type: analysis_event
  - response.outputSpeech.ssml: "TP53 mutations are found in 26 percent of Liver hepatocellular carcinoma patients with 19 amino acid residues recurrently mutated."

---
- test: NavigateRestoreSessionIntent
- NavigateRestoreSessionIntent:
  - request.session.attributes:
      MELVIN.STATE:
        gene_name: "TP53"
  - response.outputSpeech.ssml: "Ok. Your last session was restored."
  - response.reprompt.outputSpeech.ssml: "You may continue from your last analysis now."

---
- test: NavigateRepeatIntent
- NavigateRepeatIntent:
  - request.session.attributes:
      MELVIN.STATE:
        gene_name: "TP53"
      MELVIN.HISTORY: 
      - melvin_state: 
          gene_name: "TP53"
          data_source: "TCGA"
          study_abbreviation: "BRCA"
          data_type: "MUTATIONS"
        intent: "NavigateMutationsIntent"
        event_type: "analysis_event"
  - response.outputSpeech.ssml: "<speak>Ok, TP53. <prosody rate='110%'>What would you like to know?</prosody></speak>"

---
- test: NavigateCompareIntent_cna_G_vs_G
- NavigateCompareIntent:
  - request.session.attributes:
      MELVIN.STATE:
        gene_name: "TP53"
        data_type: "CNA"
  - request.request.intent.slots:
      query:
        name: "query"
        value: "braca one"
        confirmationStatus: "NONE"
  - response.outputSpeech.ssml: "TP53 has the greatest number of copy number alterations in Sarcoma at 37.6 percent while Braca one has the greatest number of copy number alterations in Uterine Carcinosarcoma at 21.1 percent"

---
- test: NavigateCompareIntent_cna_GS_vs_G
- NavigateCompareIntent:
  - request.session.attributes:
      MELVIN.STATE:
        gene_name: "BRCA1"
        study_abbreviation: "BRCA"
        data_type: "CNA"
  - request.request.intent.slots:
      query:
        name: "query"
        value: "TP53"
        confirmationStatus: "NONE"
  - response.outputSpeech.ssml: "Breast invasive carcinoma patients have less copy number alterations in TP53 at 5.7 percent while 11.9 percent of cases have alterations in Braca one."

---
- test: NavigateCompareIntent_cna_S_vs_S
- NavigateCompareIntent:
  - request.session.attributes:
      MELVIN.STATE:
        study_abbreviation: "BRCA"
        data_type: "CNA"
  - request.request.intent.slots:
      query:
        name: "query"
        value: "ovarian cancer"
        confirmationStatus: "NONE"
  - response.outputSpeech.ssml: "Among Breast invasive carcinoma patients, CCND1 has the greatest number of copy number alterations at 28.6 percent while HCN2 has the greatest number of copy number alterations in Ovarian serous cystadenocarcinoma at 59.5 percent."

---
- test: NavigateCompareIntent_cna_GS_vs_S
- NavigateCompareIntent:
  - request.session.attributes:
      MELVIN.STATE:
        gene_name: "BRCA1"
        study_abbreviation: "BRCA"
        data_type: "CNA"
  - request.request.intent.slots:
      query:
        name: "query"
        value: "ovarian cancer"
        confirmationStatus: "NONE"
  - response.outputSpeech.ssml: "Braca one has more copy number alterations in Ovarian serous cystadenocarcinoma at 12.5 percent while 11.9 percent of Breast invasive carcinoma cases have alterations."

---
- test: NavigateCompareIntent_gain_G_vs_G
- NavigateCompareIntent:
  - request.session.attributes:
      MELVIN.STATE:
        gene_name: "TP53"
        data_type: "GAIN"
  - request.request.intent.slots:
      query:
        name: "query"
        value: "braca one"
        confirmationStatus: "NONE"
  - response.outputSpeech.ssml: "TP53 is the most amplified gene in Ovarian serous cystadenocarcinoma at 9.4 percent while Braca one is the most amplified gene in Esophageal carcinoma at 10.8 percent"

---
- test: NavigateCompareIntent_gain_S_vs_S
- NavigateCompareIntent:
  - request.session.attributes:
      MELVIN.STATE:
        study_abbreviation: "BRCA"
        data_type: "GAIN"
  - request.request.intent.slots:
      query:
        name: "query"
        value: "ovarian cancer"
        confirmationStatus: "NONE"
  - response.outputSpeech.ssml: "Among Breast invasive carcinoma patients, CCND1 has the greatest number of amplifications at 27.4 percent while MECOM has the greatest number of amplifications in Ovarian serous cystadenocarcinoma at 55.9 percent."

---
- test: NavigateCompareIntent_gain_GS_vs_G
- NavigateCompareIntent:
  - request.session.attributes:
      MELVIN.STATE:
        gene_name: "BRCA1"
        study_abbreviation: "BRCA"
        data_type: "GAIN"
  - request.request.intent.slots:
      query:
        name: "query"
        value: "TP53"
        confirmationStatus: "NONE"
  - response.outputSpeech.ssml: "Breast invasive carcinoma patients have less amplifications of TP53 at 1.5 percent compared to 3.7 percent at Braca one."

---
- test: NavigateCompareIntent_gain_GS_vs_S
- NavigateCompareIntent:
  - request.session.attributes:
      MELVIN.STATE:
        gene_name: "BRCA1"
        study_abbreviation: "BRCA"
        data_type: "GAIN"
  - request.request.intent.slots:
      query:
        name: "query"
        value: "ovarian cancer"
        confirmationStatus: "NONE"
  - response.outputSpeech.ssml: "Braca one has more amplifications in Ovarian serous cystadenocarcinoma at 4.5 percent compared to 3.7 percent of Breast invasive carcinoma cases."

---
- test: NavigateCompareIntent_loss_G_vs_G
- NavigateCompareIntent:
  - request.session.attributes:
      MELVIN.STATE:
        gene_name: "TP53"
        data_type: "LOSS"
  - request.request.intent.slots:
      query:
        name: "query"
        value: "braca one"
        confirmationStatus: "NONE"
  - response.outputSpeech.ssml: "TP53 has the greatest number of deletions in Sarcoma at 34.1 percent while Braca one has the greatest number of deletions in Uterine Carcinosarcoma at 15.8 percent"

---
- test: NavigateCompareIntent_loss_S_vs_S
- NavigateCompareIntent:
  - request.session.attributes:
      MELVIN.STATE:
        study_abbreviation: "BRCA"
        data_type: "LOSS"
  - request.request.intent.slots:
      query:
        name: "query"
        value: "ovarian cancer"
        confirmationStatus: "NONE"
  - response.outputSpeech.ssml: "Among Breast invasive carcinoma patients, KAZN has the greatest number of deletions at 16.9 percent while TCF3 has the greatest number of deletions in Ovarian serous cystadenocarcinoma at 57.7 percent."

---
- test: NavigateCompareIntent_loss_GS_vs_G
- NavigateCompareIntent:
  - request.session.attributes:
      MELVIN.STATE:
        gene_name: "BRCA1"
        study_abbreviation: "BRCA"
        data_type: "LOSS"
  - request.request.intent.slots:
      query:
        name: "query"
        value: "TP53"
        confirmationStatus: "NONE"
  - response.outputSpeech.ssml: "Breast invasive carcinoma patients have less deletions of TP53 at 4.3 percent compared to 8.2 percent at Braca one."

---
- test: NavigateCompareIntent_loss_GS_vs_S
- NavigateCompareIntent:
  - request.session.attributes:
      MELVIN.STATE:
        gene_name: "BRCA1"
        study_abbreviation: "BRCA"
        data_type: "LOSS"
  - request.request.intent.slots:
      query:
        name: "query"
        value: "ovarian cancer"
        confirmationStatus: "NONE"
  - response.outputSpeech.ssml: "Braca one has less deletions in Ovarian serous cystadenocarcinoma at 8 percent compared to 8.2 percent of Breast invasive carcinoma cases."

---
- test: NavigateCompareIntent_mut_cna_G
- NavigateCompareIntent:
  - request.session.attributes:
      MELVIN.STATE:
        gene_name: "TP53"
        data_type: "CNA"
  - request.request.intent.slots:
      query:
        name: "query"
        value: "mutations"
        confirmationStatus: "NONE"
  - response.outputSpeech.ssml: "Across all of TCGA, TP53 is mutated in 19.4 percent of all cases and has copy number alterations in 5.7 percent of cases."

---
- test: NavigateCompareIntent_mut_cna_S
- NavigateCompareIntent:
  - request.session.attributes:
      MELVIN.STATE:
        study_abbreviation: "OV"
        data_type: "CNA"
  - request.request.intent.slots:
      query:
        name: "query"
        value: "mutations"
        confirmationStatus: "NONE"
  - response.outputSpeech.ssml: "Among Ovarian serous cystadenocarcinoma patients, TP53 is the top mutated gene at 34.3 percent while POLRMT has the greatest number of copy number alterations at 59.5 percent."

---
- test: NavigateCompareIntent_mut_cna_GS
- NavigateCompareIntent:
  - request.session.attributes:
      MELVIN.STATE:
        gene_name: "BRCA1"
        study_abbreviation: "BRCA"
        data_type: "CNA"
  - request.request.intent.slots:
      query:
        name: "query"
        value: "mutations"
        confirmationStatus: "NONE"
  - response.outputSpeech.ssml: "Braca one mutations are found in 3 percent of Breast invasive carcinoma patients while 13 percent have copy number alterations. 1 percent of Breast invasive carcinoma patients have both a mutation and copy number alteration at Braca one."

--- 
- test: NavigateJoinFilterIntent_BRCA
- NavigateJoinFilterIntent:
  - request.session.attributes:
      MELVIN.STATE:
        gene_name: "TP53"
  - request.request.intent.slots:
      query:
        name: "query"
        value: "breast cancer"
        confirmationStatus: "NONE"
  - response.outputSpeech.ssml: "Ok, Breast invasive carcinoma."

--- 
- test: NavigateJoinFilterIntent_MUT
- NavigateJoinFilterIntent:
  - request.request.intent.slots:
      query:
        name: "query"
        value: "mutations"
        confirmationStatus: "NONE"
  - response.outputSpeech.ssml: "Ok, mutations. <prosody rate='110%'>What would you like to know?</prosody>"

--- 
- test: NavigateJoinFilterIntent_Mutations_TP53_BRCA
- NavigateJoinFilterIntent:
  - request.session.attributes:
      MELVIN.STATE:
        data_source: "TCGA"
        gene_name: "TP53"
        study_abbreviation: "BRCA"
  - request.request.intent.slots:
      query:
        name: "query"
        value: "mutations"
        confirmationStatus: "NONE"
  - response.outputSpeech.ssml: "TP53 mutations are found in 30 percent of Breast invasive carcinoma patients with 53 amino acid residues recurrently mutated."

--- 
- test: NavigateJoinFilterIntent_TP53
- NavigateJoinFilterIntent:
  - request.session.attributes:
      MELVIN.STATE:
        data_source: "TCGA"
  - request.request.intent.slots:
      query:
        name: "query"
        value: "TP53"
        confirmationStatus: "NONE"
  - response.outputSpeech.ssml: "Ok, TP53. <prosody rate='110%'>What would you like to know?</prosody>"

--- 
- test: NavigateJoinFilterIntent_TP53_BRCA_OV
- NavigateJoinFilterIntent:
  - request.session.attributes:
      MELVIN.STATE:
        gene_name: "TP53"
        study_abbreviation: "BRCA"
        data_type: "MUTATIONS"
  - request.request.intent.slots:
      query:
        name: "query"
        value: "ovarian cancer"
        confirmationStatus: "NONE"
  - response.outputSpeech.ssml: "TP53 mutations are found in 70 percent of Ovarian serous cystadenocarcinoma patients with 65 amino acid residues recurrently mutated."

--- 
- test: NavigateJoinFilterIntent_SV-MD_TP53_BRCA
- NavigateJoinFilterIntent:
  - request.session.attributes:
      MELVIN.STATE:
        data_source: "TCGA"
        gene_name: "TP53"
        data_type: "STRUCTURAL_VARIANTS"
        study_abbreviation: "BRCA"
  - request.request.intent.slots:
      query:
        name: "query"
        value: "most affected domains"
        confirmationStatus: "NONE"
  - response.outputSpeech.ssml: "P53 DNA-binding domain and P53 tetramerisation motif are the most affected domains containing 88 percent and 5.3 percent of mutations respectively."

---
- test: NavigateCompareIntent_cna_Error
- NavigateCompareIntent:
  - request.session.attributes:
      MELVIN.STATE:
        gene_name: "TP53"
  - request.request.intent.slots:
      query:
        name: "query"
        value: "braca one"
        confirmationStatus: "NONE"
  - response.outputSpeech.ssml: "The data type is missing for comparison."

--- 
- test: NavigateJoinFilterIntent_Error
- NavigateJoinFilterIntent:
  - request.session.attributes:
      MELVIN.STATE:
  - response.outputSpeech.ssml: "Sorry, something went wrong while processing the request. Please try again later."

---
- test: NavigateCompareIntent_mut_G_vs_G
- NavigateCompareIntent:
  - request.session.attributes:
      MELVIN.STATE:
        gene_name: "TP53"
        data_type: "MUTATIONS"
  - request.request.intent.slots:
      query:
        name: "query"
        value: "braca one"
        confirmationStatus: "NONE"
  - response.outputSpeech.ssml: "Braca one and TP53 mutations are found in 63.6 and 93.9 percent of cancer types respectively. Across all of TCGA, Braca one is mutated in 7.9 percent of all cases while TP53 is mutated in 70 percent"

---
- test: NavigateCompareIntent_mut_GS_vs_G
- NavigateCompareIntent:
  - request.session.attributes:
      MELVIN.STATE:
        gene_name: "BRCA1"
        study_abbreviation: "BRCA"
        data_type: "MUTATIONS"
  - request.request.intent.slots:
      query:
        name: "query"
        value: "TP53"
        confirmationStatus: "NONE"
  - response.outputSpeech.ssml: "Breast invasive carcinoma patients have more mutations in TP53 at 30 percent while 1.9 percent of cases have Braca one mutations."

---
- test: NavigateCompareIntent_mut_GS_vs_S
- NavigateCompareIntent:
  - request.session.attributes:
      MELVIN.STATE:
        gene_name: "BRCA1"
        study_abbreviation: "BRCA"
        data_type: "MUTATIONS"
  - request.request.intent.slots:
      query:
        name: "query"
        value: "ovarian cancer"
        confirmationStatus: "NONE"
  - response.outputSpeech.ssml: "Braca one is mutated more frequently in Ovarian serous cystadenocarcinoma at 3.2 percent while 1.9 percent of Breast invasive carcinoma cases have mutations."

---
- test: NavigateCompareIntent_ind_G_vs_G
- NavigateCompareIntent:
  - request.session.attributes:
      MELVIN.STATE:
        gene_name: "TP53"
        data_type: "INDELS"
  - request.request.intent.slots:
      query:
        name: "query"
        value: "braca one"
        confirmationStatus: "NONE"
  - response.outputSpeech.ssml: "Braca one and TP53 indels are found in 21.2 and 78.8 percent of cancer types respectively. Across all of TCGA, Braca one is mutated in 1.2 percent of all cases while TP53 is mutated in 12.1 percent"

---
- test: NavigateCompareIntent_ind_GS_vs_G
- NavigateCompareIntent:
  - request.session.attributes:
      MELVIN.STATE:
        gene_name: "BRCA1"
        study_abbreviation: "BRCA"
        data_type: "INDELS"
  - request.request.intent.slots:
      query:
        name: "query"
        value: "TP53"
        confirmationStatus: "NONE"
  - response.outputSpeech.ssml: "Breast invasive carcinoma patients have more indels in TP53 at 5.7 percent while 0.3 percent of cases have Braca one indels."

---
- test: NavigateCompareIntent_ind_GS_vs_S
- NavigateCompareIntent:
  - request.session.attributes:
      MELVIN.STATE:
        gene_name: "BRCA1"
        study_abbreviation: "BRCA"
        data_type: "INDELS"
  - request.request.intent.slots:
      query:
        name: "query"
        value: "ovarian cancer"
        confirmationStatus: "NONE"
  - response.outputSpeech.ssml: "Braca one is mutated more frequently in Ovarian serous cystadenocarcinoma at 1.1 percent while 0.3 percent of Breast invasive carcinoma cases have indels."

---
- test: NavigateCompareIntent_snv_G_vs_G
- NavigateCompareIntent:
  - request.session.attributes:
      MELVIN.STATE:
        gene_name: "TP53"
        data_type: "SNV"
  - request.request.intent.slots:
      query:
        name: "query"
        value: "braca one"
        confirmationStatus: "NONE"
  - response.outputSpeech.ssml: "Braca one and TP53 SNVs are found in 63.6 and 93.9 percent of cancer types respectively. Across all of TCGA, Braca one is mutated in 7.4 percent of all cases while TP53 is mutated in 61.4 percent"

---
- test: NavigateCompareIntent_snv_GS_vs_G
- NavigateCompareIntent:
  - request.session.attributes:
      MELVIN.STATE:
        gene_name: "BRCA1"
        study_abbreviation: "BRCA"
        data_type: "SNV"
  - request.request.intent.slots:
      query:
        name: "query"
        value: "TP53"
        confirmationStatus: "NONE"
  - response.outputSpeech.ssml: "Breast invasive carcinoma patients have more SNVs in TP53 at 24.4 percent while 1.6 percent of cases have Braca one SNVs."

---
- test: NavigateCompareIntent_snv_GS_vs_S
- NavigateCompareIntent:
  - request.session.attributes:
      MELVIN.STATE:
        gene_name: "BRCA1"
        study_abbreviation: "BRCA"
        data_type: "SNV"
  - request.request.intent.slots:
      query:
        name: "query"
        value: "ovarian cancer"
        confirmationStatus: "NONE"
  - response.outputSpeech.ssml: "Braca one is mutated more frequently in Ovarian serous cystadenocarcinoma at 2.1 percent while 1.6 percent of Breast invasive carcinoma cases have SNVs."
